# ğŸ— Vibe Academy ê¸°ìˆ  í”Œë«í¼ ì•„í‚¤í…ì²˜ ì„¤ê³„

**í†µí•© í•™ìŠµ ê´€ë¦¬ ì‹œìŠ¤í…œ(LMS) ë° ì¸ì¦ í”Œë«í¼ ì „ì²´ ì„¤ê³„ì„œ**

---

## ğŸ“‹ ëª©ì°¨

1. [ì‹œìŠ¤í…œ ê°œìš”](#1-ì‹œìŠ¤í…œ-ê°œìš”)
2. [ê¸°ìˆ  ìŠ¤íƒ ì„ ì •](#2-ê¸°ìˆ -ìŠ¤íƒ-ì„ ì •)
3. [ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜](#3-ì‹œìŠ¤í…œ-ì•„í‚¤í…ì²˜)
4. [ë°ì´í„°ë² ì´ìŠ¤ ì„¤ê³„](#4-ë°ì´í„°ë² ì´ìŠ¤-ì„¤ê³„)
5. [API ì„¤ê³„](#5-api-ì„¤ê³„)
6. [ë³´ì•ˆ ë° ì„±ëŠ¥](#6-ë³´ì•ˆ-ë°-ì„±ëŠ¥)
7. [ë°°í¬ ì „ëµ](#7-ë°°í¬-ì „ëµ)

---

## ğŸ¯ 1. ì‹œìŠ¤í…œ ê°œìš”

### ğŸŒŸ ë¹„ì „
> **"AI ì‹œëŒ€ ê°œë°œì êµìœ¡ì˜ ìƒˆë¡œìš´ í‘œì¤€ì´ ë˜ëŠ” í†µí•© í”Œë«í¼"**

### ğŸ“Š í•µì‹¬ ê¸°ëŠ¥

#### ì‚¬ìš©ìë³„ ì£¼ìš” ê¸°ëŠ¥
```mermaid
graph TD
    A[í•™ìŠµì] --> B[ê°•ì˜ ìˆ˜ê°•]
    A --> C[ê³¼ì œ ì œì¶œ]
    A --> D[í¬íŠ¸í´ë¦¬ì˜¤ ê´€ë¦¬]
    A --> E[ì»¤ë®¤ë‹ˆí‹° ì°¸ì—¬]
    
    F[ë©˜í† /í‰ê°€ì] --> G[ê³¼ì œ í‰ê°€]
    F --> H[ë©˜í† ë§ ì œê³µ]
    F --> I[í”¼ë“œë°± ì‘ì„±]
    
    J[ê´€ë¦¬ì] --> K[ì½˜í…ì¸  ê´€ë¦¬]
    J --> L[ì‚¬ìš©ì ê´€ë¦¬]
    J --> M[í†µê³„ ë¶„ì„]
    J --> N[ì¸ì¦ì„œ ë°œê¸‰]
```

### ğŸª í”Œë«í¼ íŠ¹ì§•

#### ì°¨ë³„í™” í¬ì¸íŠ¸
- **AI í†µí•©**: ChatGPT, GitHub Copilot ë“± AI ë„êµ¬ ë„¤ì´í‹°ë¸Œ ì§€ì›
- **ì‹¤ì „ ì¤‘ì‹¬**: ì´ë¡ ë³´ë‹¤ ì‹¤ì œ í”„ë¡œì íŠ¸ ì¤‘ì‹¬ í•™ìŠµ
- **í¬íŠ¸í´ë¦¬ì˜¤ ê¸°ë°˜**: ì·¨ì—… ì—°ê³„ ê°€ëŠ¥í•œ í¬íŠ¸í´ë¦¬ì˜¤ ìë™ ìƒì„±
- **ë¸”ë¡ì²´ì¸ ì¸ì¦**: ìœ„ë³€ì¡° ë¶ˆê°€ëŠ¥í•œ ì¸ì¦ì„œ ì‹œìŠ¤í…œ
- **ì‹¤ì‹œê°„ í˜‘ì—…**: GitHubê³¼ ìœ ì‚¬í•œ ì½”ë“œ ë¦¬ë·° ë° í˜‘ì—… ê¸°ëŠ¥

---

## ğŸ›  2. ê¸°ìˆ  ìŠ¤íƒ ì„ ì •

### ğŸ–¥ Frontend ê¸°ìˆ  ìŠ¤íƒ

#### Core Framework
```javascript
// Next.js 14 (App Router)
const techStack = {
  framework: "Next.js 14",
  language: "TypeScript",
  styling: "TailwindCSS + Shadcn/ui",
  stateManagement: "Zustand + React Query",
  authentication: "NextAuth.js v5",
  realtime: "Socket.io-client",
  codeEditor: "Monaco Editor (VS Code)",
  videoPlayer: "Video.js + HLS.js",
  charts: "Recharts + D3.js",
  deployment: "Vercel"
};
```

#### ì£¼ìš” ë¼ì´ë¸ŒëŸ¬ë¦¬
```json
{
  "dependencies": {
    "next": "^14.0.0",
    "react": "^18.2.0",
    "typescript": "^5.0.0",
    "tailwindcss": "^3.3.0",
    "@radix-ui/react-*": "latest",
    "zustand": "^4.4.0",
    "@tanstack/react-query": "^5.0.0",
    "next-auth": "^5.0.0-beta",
    "socket.io-client": "^4.7.0",
    "@monaco-editor/react": "^4.6.0",
    "video.js": "^8.6.0",
    "recharts": "^2.8.0",
    "framer-motion": "^10.16.0"
  }
}
```

### âš™ï¸ Backend ê¸°ìˆ  ìŠ¤íƒ

#### API Server
```javascript
// Node.js + Express + TypeScript
const backendStack = {
  runtime: "Node.js 18+",
  framework: "Express.js + TypeScript",
  database: "PostgreSQL + Prisma ORM",
  caching: "Redis",
  fileStorage: "AWS S3 + CloudFront",
  realtime: "Socket.io",
  queue: "Bull Queue + Redis",
  monitoring: "Winston + Sentry",
  testing: "Jest + Supertest",
  deployment: "Docker + AWS ECS"
};
```

#### Database & Infrastructure
```yaml
# docker-compose.yml êµ¬ì¡°
services:
  postgres:
    image: postgres:15
    environment:
      POSTGRES_DB: vibe_academy
      
  redis:
    image: redis:7-alpine
    
  app:
    build: .
    depends_on:
      - postgres
      - redis
```

### ğŸ” Third-party Services

#### í•„ìˆ˜ ì—°ë™ ì„œë¹„ìŠ¤
```javascript
const thirdPartyServices = {
  authentication: {
    google: "Google OAuth 2.0",
    github: "GitHub OAuth",
    email: "NextAuth.js Email Provider"
  },
  
  storage: {
    files: "AWS S3",
    cdn: "CloudFront",
    videos: "AWS S3 + HLS streaming"
  },
  
  communication: {
    email: "AWS SES",
    push: "Firebase Cloud Messaging",
    sms: "AWS SNS (ì„ íƒì )"
  },
  
  blockchain: {
    network: "Polygon (MATIC)",
    certificates: "NFT (ERC-721)",
    wallet: "MetaMask integration"
  },
  
  analytics: {
    webAnalytics: "Google Analytics 4",
    errorTracking: "Sentry",
    performance: "Vercel Analytics"
  }
};
```

---

## ğŸ— 3. ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

### ğŸŒ ì „ì²´ ì‹œìŠ¤í…œ êµ¬ì¡°

```mermaid
graph TB
    subgraph "Frontend"
        A[Next.js App]
        B[Admin Dashboard]
        C[Mobile Web]
    end
    
    subgraph "API Gateway"
        D[Load Balancer]
        E[Rate Limiting]
        F[Authentication]
    end
    
    subgraph "Backend Services"
        G[User Service]
        H[Course Service]
        I[Assessment Service]
        J[Community Service]
        K[Certificate Service]
    end
    
    subgraph "Data Layer"
        L[PostgreSQL]
        M[Redis Cache]
        N[AWS S3]
        O[Elasticsearch]
    end
    
    subgraph "External Services"
        P[GitHub API]
        Q[Vercel API]
        R[OpenAI API]
        S[Polygon Blockchain]
    end
    
    A --> D
    B --> D
    C --> D
    D --> E --> F
    F --> G
    F --> H
    F --> I
    F --> J
    F --> K
    
    G --> L
    H --> L
    I --> L
    J --> L
    K --> L
    
    G --> M
    H --> N
    I --> O
    
    H --> P
    I --> Q
    G --> R
    K --> S
```

### ğŸ“± ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ êµ¬ì¡°

#### Core Services
```typescript
// ì„œë¹„ìŠ¤ë³„ ì±…ì„ ë¶„ë¦¬
interface ServiceArchitecture {
  userService: {
    responsibilities: [
      "ì‚¬ìš©ì ë“±ë¡/ì¸ì¦",
      "í”„ë¡œí•„ ê´€ë¦¬",
      "ê¶Œí•œ ê´€ë¦¬",
      "í•™ìŠµ ì§„ë„ ì¶”ì "
    ];
    database: "users, profiles, enrollments";
    external: ["GitHub API", "Google OAuth"];
  };
  
  courseService: {
    responsibilities: [
      "ê°•ì˜ ì½˜í…ì¸  ê´€ë¦¬",
      "ì»¤ë¦¬í˜ëŸ¼ ì§„í–‰",
      "ê³¼ì œ ê´€ë¦¬",
      "ì§„ë„ìœ¨ ê³„ì‚°"
    ];
    database: "courses, lessons, assignments";
    external: ["Video CDN", "GitHub API"];
  };
  
  assessmentService: {
    responsibilities: [
      "ê³¼ì œ ì œì¶œ/í‰ê°€",
      "í¬íŠ¸í´ë¦¬ì˜¤ ê´€ë¦¬",
      "í”¼ì–´ ë¦¬ë·°",
      "ìë™ ì±„ì "
    ];
    database: "submissions, reviews, scores";
    external: ["GitHub API", "Vercel API"];
  };
  
  communityService: {
    responsibilities: [
      "Q&A ê²Œì‹œíŒ",
      "ë©˜í† ë§ ë§¤ì¹­",
      "ì‹¤ì‹œê°„ ì±„íŒ…",
      "ìŠ¤í„°ë”” ê·¸ë£¹"
    ];
    database: "posts, comments, matches, groups";
    external: ["Socket.io", "Firebase FCM"];
  };
  
  certificateService: {
    responsibilities: [
      "ì¸ì¦ì„œ ìƒì„±",
      "NFT ë°œí–‰",
      "ê²€ì¦ ì‹œìŠ¤í…œ",
      "LinkedIn ì—°ë™"
    ];
    database: "certificates, validations";
    external: ["Polygon", "LinkedIn API"];
  };
}
```

### ğŸ”„ ë°ì´í„° íë¦„

#### í•™ìŠµì ì—¬ì • ë°ì´í„° íë¦„
```mermaid
sequenceDiagram
    participant U as User
    participant F as Frontend
    participant G as API Gateway
    participant US as User Service
    participant CS as Course Service
    participant AS as Assessment Service
    participant CS2 as Certificate Service
    
    U->>F: ë¡œê·¸ì¸ ìš”ì²­
    F->>G: ì¸ì¦ ìš”ì²­
    G->>US: ì‚¬ìš©ì ê²€ì¦
    US-->>G: JWT í† í° ë°œê¸‰
    G-->>F: ì¸ì¦ ì„±ê³µ
    
    U->>F: ê°•ì˜ ìˆ˜ê°•
    F->>CS: ê°•ì˜ ì§„ë„ ì—…ë°ì´íŠ¸
    CS->>US: í•™ìŠµ ì§„ë„ ê¸°ë¡
    
    U->>F: ê³¼ì œ ì œì¶œ
    F->>AS: ê³¼ì œ ì—…ë¡œë“œ
    AS->>CS: GitHub ì—°ë™ ê²€ì¦
    
    U->>F: í¬íŠ¸í´ë¦¬ì˜¤ ì™„ì„±
    F->>AS: í‰ê°€ ìš”ì²­
    AS->>CS2: ì¸ì¦ì„œ ë°œê¸‰ ìš”ì²­
    CS2->>US: ì¸ì¦ ì™„ë£Œ ê¸°ë¡
```

---

## ğŸ—„ 4. ë°ì´í„°ë² ì´ìŠ¤ ì„¤ê³„

### ğŸ“Š ERD (Entity Relationship Diagram)

#### í•µì‹¬ í…Œì´ë¸” êµ¬ì¡°
```sql
-- ì‚¬ìš©ì ê´€ë¦¬
CREATE TABLE users (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  email VARCHAR(255) UNIQUE NOT NULL,
  username VARCHAR(50) UNIQUE NOT NULL,
  full_name VARCHAR(100) NOT NULL,
  avatar_url TEXT,
  github_username VARCHAR(50),
  linkedin_url TEXT,
  bio TEXT,
  timezone VARCHAR(50) DEFAULT 'Asia/Seoul',
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  deleted_at TIMESTAMP NULL
);

-- ì‚¬ìš©ì í”„ë¡œí•„ í™•ì¥
CREATE TABLE user_profiles (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  user_id UUID REFERENCES users(id) ON DELETE CASCADE,
  experience_level VARCHAR(20) CHECK (experience_level IN ('beginner', 'intermediate', 'advanced')),
  learning_goals TEXT[],
  preferred_technologies TEXT[],
  available_hours_per_week INTEGER,
  career_goal VARCHAR(100),
  portfolio_url TEXT,
  blog_url TEXT,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- ê°•ì˜/ê³¼ì • ê´€ë¦¬
CREATE TABLE courses (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  title VARCHAR(200) NOT NULL,
  slug VARCHAR(100) UNIQUE NOT NULL,
  description TEXT,
  level INTEGER CHECK (level IN (1, 2, 3)), -- Level 1, 2, 3
  duration_weeks INTEGER NOT NULL,
  price DECIMAL(10,2),
  thumbnail_url TEXT,
  is_published BOOLEAN DEFAULT false,
  prerequisites TEXT[],
  learning_outcomes TEXT[],
  created_by UUID REFERENCES users(id),
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- ì£¼ì°¨ë³„ ì»¤ë¦¬í˜ëŸ¼
CREATE TABLE course_weeks (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  course_id UUID REFERENCES courses(id) ON DELETE CASCADE,
  week_number INTEGER NOT NULL,
  title VARCHAR(200) NOT NULL,
  description TEXT,
  learning_objectives TEXT[],
  estimated_hours INTEGER,
  is_published BOOLEAN DEFAULT false,
  UNIQUE(course_id, week_number)
);

-- ì¼ì¼ ë ˆìŠ¨
CREATE TABLE lessons (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  week_id UUID REFERENCES course_weeks(id) ON DELETE CASCADE,
  day_number INTEGER NOT NULL,
  title VARCHAR(200) NOT NULL,
  content_type VARCHAR(20) CHECK (content_type IN ('video', 'text', 'interactive', 'assignment')),
  content_url TEXT,
  content_text TEXT,
  duration_minutes INTEGER,
  is_required BOOLEAN DEFAULT true,
  sort_order INTEGER,
  UNIQUE(week_id, day_number)
);

-- ê³¼ì œ ê´€ë¦¬
CREATE TABLE assignments (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  lesson_id UUID REFERENCES lessons(id) ON DELETE CASCADE,
  title VARCHAR(200) NOT NULL,
  description TEXT NOT NULL,
  requirements TEXT[],
  submission_format VARCHAR(50), -- 'github', 'url', 'file', 'text'
  max_score INTEGER DEFAULT 100,
  due_date TIMESTAMP,
  is_required BOOLEAN DEFAULT true,
  evaluation_criteria JSONB,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- ìˆ˜ê°• ë“±ë¡
CREATE TABLE enrollments (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  user_id UUID REFERENCES users(id) ON DELETE CASCADE,
  course_id UUID REFERENCES courses(id) ON DELETE CASCADE,
  enrolled_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  completed_at TIMESTAMP NULL,
  progress_percentage DECIMAL(5,2) DEFAULT 0,
  status VARCHAR(20) DEFAULT 'active' CHECK (status IN ('active', 'paused', 'completed', 'dropped')),
  payment_status VARCHAR(20) DEFAULT 'pending' CHECK (payment_status IN ('pending', 'paid', 'refunded')),
  UNIQUE(user_id, course_id)
);

-- í•™ìŠµ ì§„ë„ ì¶”ì 
CREATE TABLE lesson_progress (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  user_id UUID REFERENCES users(id) ON DELETE CASCADE,
  lesson_id UUID REFERENCES lessons(id) ON DELETE CASCADE,
  started_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  completed_at TIMESTAMP NULL,
  time_spent_minutes INTEGER DEFAULT 0,
  is_completed BOOLEAN DEFAULT false,
  notes TEXT,
  UNIQUE(user_id, lesson_id)
);

-- ê³¼ì œ ì œì¶œ
CREATE TABLE submissions (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  user_id UUID REFERENCES users(id) ON DELETE CASCADE,
  assignment_id UUID REFERENCES assignments(id) ON DELETE CASCADE,
  submission_url TEXT,
  github_repo_url TEXT,
  deployed_url TEXT,
  submission_text TEXT,
  files JSONB, -- íŒŒì¼ ë©”íƒ€ë°ì´í„° ì €ì¥
  submitted_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  is_late BOOLEAN DEFAULT false,
  attempt_number INTEGER DEFAULT 1,
  status VARCHAR(20) DEFAULT 'submitted' CHECK (status IN ('draft', 'submitted', 'under_review', 'graded'))
);

-- í‰ê°€ ë° í”¼ë“œë°±
CREATE TABLE evaluations (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  submission_id UUID REFERENCES submissions(id) ON DELETE CASCADE,
  evaluator_id UUID REFERENCES users(id) ON DELETE CASCADE,
  score INTEGER CHECK (score >= 0 AND score <= 100),
  feedback TEXT,
  detailed_scores JSONB, -- ì„¸ë¶€ í•­ëª©ë³„ ì ìˆ˜
  evaluation_type VARCHAR(20) CHECK (evaluation_type IN ('peer', 'mentor', 'auto')),
  evaluated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  is_final BOOLEAN DEFAULT false
);

-- í¬íŠ¸í´ë¦¬ì˜¤ ê´€ë¦¬
CREATE TABLE portfolios (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  user_id UUID REFERENCES users(id) ON DELETE CASCADE,
  title VARCHAR(200) NOT NULL,
  description TEXT,
  project_type VARCHAR(50), -- 'personal', 'team', 'business'
  technologies TEXT[],
  github_url TEXT,
  deployed_url TEXT,
  demo_video_url TEXT,
  screenshots JSONB,
  key_features TEXT[],
  challenges_and_solutions TEXT,
  user_feedback JSONB,
  business_metrics JSONB,
  is_featured BOOLEAN DEFAULT false,
  level INTEGER, -- ì–´ëŠ ë ˆë²¨ì˜ í”„ë¡œì íŠ¸ì¸ì§€
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- ì»¤ë®¤ë‹ˆí‹° ê²Œì‹œíŒ
CREATE TABLE posts (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  author_id UUID REFERENCES users(id) ON DELETE CASCADE,
  category VARCHAR(50) NOT NULL, -- 'question', 'discussion', 'showcase', 'help'
  title VARCHAR(300) NOT NULL,
  content TEXT NOT NULL,
  tags TEXT[],
  is_solved BOOLEAN DEFAULT false, -- Q&Aì˜ ê²½ìš°
  view_count INTEGER DEFAULT 0,
  like_count INTEGER DEFAULT 0,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  deleted_at TIMESTAMP NULL
);

-- ëŒ“ê¸€ ì‹œìŠ¤í…œ
CREATE TABLE comments (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  post_id UUID REFERENCES posts(id) ON DELETE CASCADE,
  author_id UUID REFERENCES users(id) ON DELETE CASCADE,
  parent_id UUID REFERENCES comments(id) ON DELETE CASCADE NULL, -- ëŒ€ëŒ“ê¸€
  content TEXT NOT NULL,
  is_accepted_answer BOOLEAN DEFAULT false, -- Q&A ì±„íƒ ë‹µë³€
  like_count INTEGER DEFAULT 0,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  deleted_at TIMESTAMP NULL
);

-- ë©˜í† ë§ ê´€ê³„
CREATE TABLE mentoring_relationships (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  mentor_id UUID REFERENCES users(id) ON DELETE CASCADE,
  mentee_id UUID REFERENCES users(id) ON DELETE CASCADE,
  course_id UUID REFERENCES courses(id) ON DELETE CASCADE,
  status VARCHAR(20) DEFAULT 'active' CHECK (status IN ('pending', 'active', 'completed', 'cancelled')),
  started_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  ended_at TIMESTAMP NULL,
  mentor_feedback TEXT,
  mentee_feedback TEXT,
  rating INTEGER CHECK (rating >= 1 AND rating <= 5),
  UNIQUE(mentor_id, mentee_id, course_id)
);

-- ì¸ì¦ì„œ ê´€ë¦¬
CREATE TABLE certificates (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  user_id UUID REFERENCES users(id) ON DELETE CASCADE,
  course_id UUID REFERENCES courses(id) ON DELETE CASCADE,
  certificate_type VARCHAR(20) CHECK (certificate_type IN ('beginner', 'developer', 'master')),
  issued_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  certificate_url TEXT, -- PDF ë‹¤ìš´ë¡œë“œ URL
  verification_code VARCHAR(50) UNIQUE NOT NULL,
  blockchain_tx_hash TEXT, -- NFT ë°œí–‰ íŠ¸ëœì­ì…˜ í•´ì‹œ
  nft_token_id TEXT,
  is_revoked BOOLEAN DEFAULT false,
  revoked_at TIMESTAMP NULL,
  metadata JSONB -- ì¶”ê°€ ì¸ì¦ ì •ë³´
);

-- ì‹œìŠ¤í…œ ì„¤ì •
CREATE TABLE system_settings (
  key VARCHAR(100) PRIMARY KEY,
  value JSONB NOT NULL,
  description TEXT,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_by UUID REFERENCES users(id)
);
```

### ğŸ” ì¸ë±ìŠ¤ ìµœì í™”

```sql
-- ì„±ëŠ¥ ìµœì í™”ë¥¼ ìœ„í•œ ì¸ë±ìŠ¤
CREATE INDEX idx_users_email ON users(email);
CREATE INDEX idx_users_username ON users(username);
CREATE INDEX idx_users_github_username ON users(github_username);

CREATE INDEX idx_enrollments_user_course ON enrollments(user_id, course_id);
CREATE INDEX idx_enrollments_status ON enrollments(status);

CREATE INDEX idx_lesson_progress_user ON lesson_progress(user_id);
CREATE INDEX idx_lesson_progress_completed ON lesson_progress(user_id, is_completed);

CREATE INDEX idx_submissions_user_assignment ON submissions(user_id, assignment_id);
CREATE INDEX idx_submissions_status ON submissions(status);

CREATE INDEX idx_posts_category ON posts(category);
CREATE INDEX idx_posts_created_at ON posts(created_at DESC);
CREATE INDEX idx_posts_tags ON posts USING GIN(tags);

CREATE INDEX idx_portfolios_user ON portfolios(user_id);
CREATE INDEX idx_portfolios_level ON portfolios(level);
CREATE INDEX idx_portfolios_featured ON portfolios(is_featured);

CREATE INDEX idx_certificates_user ON certificates(user_id);
CREATE INDEX idx_certificates_verification ON certificates(verification_code);
CREATE INDEX idx_certificates_type ON certificates(certificate_type);
```

---

## ğŸ”Œ 5. API ì„¤ê³„

### ğŸ¯ RESTful API êµ¬ì¡°

#### API ì—”ë“œí¬ì¸íŠ¸ ê°œìš”
```typescript
// API Routes êµ¬ì¡°
interface APIRoutes {
  // ì¸ì¦ ê´€ë ¨
  '/api/auth': {
    'POST /login': 'OAuth ë¡œê·¸ì¸';
    'POST /logout': 'ë¡œê·¸ì•„ì›ƒ';
    'GET /me': 'í˜„ì¬ ì‚¬ìš©ì ì •ë³´';
    'PUT /me': 'í”„ë¡œí•„ ì—…ë°ì´íŠ¸';
  };
  
  // ê°•ì˜ ê´€ë¦¬
  '/api/courses': {
    'GET /': 'ê°•ì˜ ëª©ë¡ ì¡°íšŒ';
    'GET /:id': 'ê°•ì˜ ìƒì„¸ ì •ë³´';
    'POST /:id/enroll': 'ìˆ˜ê°• ì‹ ì²­';
    'GET /:id/progress': 'í•™ìŠµ ì§„ë„ ì¡°íšŒ';
  };
  
  // ê³¼ì œ ë° ì œì¶œ
  '/api/assignments': {
    'GET /:id': 'ê³¼ì œ ìƒì„¸ ì •ë³´';
    'POST /:id/submissions': 'ê³¼ì œ ì œì¶œ';
    'GET /:id/submissions': 'ì œì¶œë¬¼ ì¡°íšŒ';
    'PUT /:submissionId/grade': 'ê³¼ì œ ì±„ì ';
  };
  
  // í¬íŠ¸í´ë¦¬ì˜¤
  '/api/portfolios': {
    'GET /': 'í¬íŠ¸í´ë¦¬ì˜¤ ëª©ë¡';
    'POST /': 'í¬íŠ¸í´ë¦¬ì˜¤ ìƒì„±';
    'PUT /:id': 'í¬íŠ¸í´ë¦¬ì˜¤ ì—…ë°ì´íŠ¸';
    'DELETE /:id': 'í¬íŠ¸í´ë¦¬ì˜¤ ì‚­ì œ';
  };
  
  // ì»¤ë®¤ë‹ˆí‹°
  '/api/community': {
    'GET /posts': 'ê²Œì‹œê¸€ ëª©ë¡';
    'POST /posts': 'ê²Œì‹œê¸€ ì‘ì„±';
    'GET /posts/:id': 'ê²Œì‹œê¸€ ìƒì„¸';
    'POST /posts/:id/comments': 'ëŒ“ê¸€ ì‘ì„±';
  };
  
  // ì¸ì¦ì„œ
  '/api/certificates': {
    'POST /generate': 'ì¸ì¦ì„œ ìƒì„±';
    'GET /:id/verify': 'ì¸ì¦ì„œ ê²€ì¦';
    'GET /:id/download': 'ì¸ì¦ì„œ ë‹¤ìš´ë¡œë“œ';
  };
}
```

### ğŸ“ ìƒì„¸ API ëª…ì„¸

#### ì‚¬ìš©ì ì¸ì¦ API
```typescript
// POST /api/auth/login
interface LoginRequest {
  provider: 'google' | 'github' | 'email';
  token?: string; // OAuth token
  email?: string; // Email login
  password?: string; // Email login
}

interface LoginResponse {
  success: boolean;
  user: {
    id: string;
    email: string;
    username: string;
    fullName: string;
    avatarUrl: string;
    role: 'student' | 'mentor' | 'admin';
  };
  token: string;
  refreshToken: string;
}

// GET /api/auth/me
interface UserProfileResponse {
  id: string;
  email: string;
  username: string;
  fullName: string;
  avatarUrl: string;
  bio?: string;
  githubUsername?: string;
  linkedinUrl?: string;
  profile: {
    experienceLevel: 'beginner' | 'intermediate' | 'advanced';
    learningGoals: string[];
    preferredTechnologies: string[];
    availableHoursPerWeek: number;
    careerGoal: string;
  };
  enrollments: {
    courseId: string;
    courseName: string;
    level: number;
    progress: number;
    status: string;
  }[];
  certificates: {
    id: string;
    type: string;
    issuedAt: string;
    verificationCode: string;
  }[];
}
```

#### ê°•ì˜ ë° í•™ìŠµ API
```typescript
// GET /api/courses
interface CoursesListRequest {
  level?: 1 | 2 | 3;
  page?: number;
  limit?: number;
  search?: string;
}

interface CoursesListResponse {
  courses: {
    id: string;
    title: string;
    slug: string;
    description: string;
    level: number;
    durationWeeks: number;
    price: number;
    thumbnailUrl: string;
    enrolledCount: number;
    rating: number;
    isEnrolled: boolean;
  }[];
  totalCount: number;
  currentPage: number;
  totalPages: number;
}

// GET /api/courses/:id
interface CourseDetailResponse {
  id: string;
  title: string;
  description: string;
  level: number;
  durationWeeks: number;
  price: number;
  thumbnailUrl: string;
  prerequisites: string[];
  learningOutcomes: string[];
  instructor: {
    id: string;
    name: string;
    avatarUrl: string;
    bio: string;
  };
  curriculum: {
    weekNumber: number;
    title: string;
    description: string;
    lessons: {
      dayNumber: number;
      title: string;
      contentType: string;
      durationMinutes: number;
      isCompleted: boolean;
    }[];
  }[];
  stats: {
    totalStudents: number;
    completionRate: number;
    averageRating: number;
  };
  isEnrolled: boolean;
  userProgress?: {
    completedLessons: number;
    totalLessons: number;
    progressPercentage: number;
    currentWeek: number;
  };
}

// POST /api/courses/:id/enroll
interface EnrollRequest {
  paymentMethodId?: string; // Stripe payment method
}

interface EnrollResponse {
  success: boolean;
  enrollmentId: string;
  message: string;
  paymentStatus: 'free' | 'paid' | 'pending';
}
```

#### ê³¼ì œ ì œì¶œ ë° í‰ê°€ API
```typescript
// POST /api/assignments/:id/submissions
interface SubmissionRequest {
  githubRepoUrl?: string;
  deployedUrl?: string;
  submissionText?: string;
  files?: {
    name: string;
    url: string;
    size: number;
  }[];
}

interface SubmissionResponse {
  id: string;
  submittedAt: string;
  status: 'submitted' | 'under_review' | 'graded';
  isLate: boolean;
  attemptNumber: number;
}

// GET /api/assignments/:id/submissions/:submissionId
interface SubmissionDetailResponse {
  id: string;
  assignment: {
    id: string;
    title: string;
    description: string;
    requirements: string[];
    maxScore: number;
    dueDate: string;
  };
  submission: {
    githubRepoUrl?: string;
    deployedUrl?: string;
    submissionText?: string;
    files: any[];
    submittedAt: string;
    isLate: boolean;
  };
  evaluations: {
    id: string;
    evaluatorName: string;
    evaluatorAvatar: string;
    score: number;
    feedback: string;
    detailedScores: {
      [criteria: string]: number;
    };
    evaluationType: 'peer' | 'mentor' | 'auto';
    evaluatedAt: string;
  }[];
  finalScore?: number;
  status: string;
}
```

#### í¬íŠ¸í´ë¦¬ì˜¤ ê´€ë¦¬ API
```typescript
// POST /api/portfolios
interface CreatePortfolioRequest {
  title: string;
  description: string;
  projectType: 'personal' | 'team' | 'business';
  technologies: string[];
  githubUrl: string;
  deployedUrl?: string;
  demoVideoUrl?: string;
  screenshots: {
    url: string;
    caption: string;
  }[];
  keyFeatures: string[];
  challengesAndSolutions: string;
  userFeedback?: {
    rating: number;
    comments: string[];
  };
  businessMetrics?: {
    users: number;
    revenue: number;
    retention: number;
  };
  level: 1 | 2 | 3;
}

interface PortfolioResponse {
  id: string;
  title: string;
  description: string;
  projectType: string;
  technologies: string[];
  githubUrl: string;
  deployedUrl?: string;
  screenshots: any[];
  level: number;
  author: {
    id: string;
    name: string;
    avatarUrl: string;
  };
  stats: {
    views: number;
    likes: number;
    comments: number;
  };
  createdAt: string;
  updatedAt: string;
}
```

#### ì‹¤ì‹œê°„ API (WebSocket)
```typescript
// Socket.io ì´ë²¤íŠ¸ ì •ì˜
interface SocketEvents {
  // í´ë¼ì´ì–¸íŠ¸ -> ì„œë²„
  'join:course': { courseId: string };
  'join:mentoring': { relationshipId: string };
  'send:message': {
    type: 'course' | 'mentoring' | 'study-group';
    targetId: string;
    message: string;
  };
  
  // ì„œë²„ -> í´ë¼ì´ì–¸íŠ¸
  'notification:new': {
    type: 'assignment' | 'feedback' | 'certificate' | 'message';
    title: string;
    message: string;
    url?: string;
  };
  'message:received': {
    id: string;
    senderId: string;
    senderName: string;
    message: string;
    timestamp: string;
  };
  'progress:updated': {
    lessonId: string;
    completed: boolean;
    totalProgress: number;
  };
}
```

---

## ğŸ” 6. ë³´ì•ˆ ë° ì„±ëŠ¥

### ğŸ›¡ ë³´ì•ˆ êµ¬í˜„

#### ì¸ì¦ ë° ê¶Œí•œ ê´€ë¦¬
```typescript
// JWT í† í° êµ¬ì¡°
interface JWTPayload {
  userId: string;
  email: string;
  role: 'student' | 'mentor' | 'admin';
  permissions: string[];
  iat: number;
  exp: number;
}

// ê¶Œí•œ ë¯¸ë“¤ì›¨ì–´
const requireAuth = (roles?: string[]) => {
  return async (req: Request, res: Response, next: NextFunction) => {
    const token = req.headers.authorization?.replace('Bearer ', '');
    
    if (!token) {
      return res.status(401).json({ error: 'No token provided' });
    }
    
    try {
      const decoded = jwt.verify(token, process.env.JWT_SECRET!) as JWTPayload;
      
      if (roles && !roles.includes(decoded.role)) {
        return res.status(403).json({ error: 'Insufficient permissions' });
      }
      
      req.user = decoded;
      next();
    } catch (error) {
      return res.status(401).json({ error: 'Invalid token' });
    }
  };
};

// API ì‚¬ìš©ëŸ‰ ì œí•œ
const rateLimiter = rateLimit({
  windowMs: 15 * 60 * 1000, // 15ë¶„
  max: 100, // ìš”ì²­ ì œí•œ
  message: 'Too many requests from this IP',
  standardHeaders: true,
  legacyHeaders: false,
});
```

#### ë°ì´í„° ë³´ì•ˆ
```typescript
// ë¯¼ê°í•œ ë°ì´í„° ì•”í˜¸í™”
import crypto from 'crypto';

class DataEncryption {
  private readonly algorithm = 'aes-256-gcm';
  private readonly key = crypto.scryptSync(process.env.ENCRYPTION_KEY!, 'salt', 32);
  
  encrypt(text: string): string {
    const iv = crypto.randomBytes(16);
    const cipher = crypto.createCipher(this.algorithm, this.key);
    cipher.setAAD(Buffer.from('authenticated'));
    
    let encrypted = cipher.update(text, 'utf8', 'hex');
    encrypted += cipher.final('hex');
    
    const authTag = cipher.getAuthTag();
    
    return iv.toString('hex') + ':' + authTag.toString('hex') + ':' + encrypted;
  }
  
  decrypt(encryptedData: string): string {
    const [ivHex, authTagHex, encrypted] = encryptedData.split(':');
    const iv = Buffer.from(ivHex, 'hex');
    const authTag = Buffer.from(authTagHex, 'hex');
    
    const decipher = crypto.createDecipher(this.algorithm, this.key);
    decipher.setAAD(Buffer.from('authenticated'));
    decipher.setAuthTag(authTag);
    
    let decrypted = decipher.update(encrypted, 'hex', 'utf8');
    decrypted += decipher.final('utf8');
    
    return decrypted;
  }
}
```

### âš¡ ì„±ëŠ¥ ìµœì í™”

#### ìºì‹± ì „ëµ
```typescript
// Redis ìºì‹± êµ¬í˜„
class CacheService {
  private redis = new Redis(process.env.REDIS_URL!);
  
  async get<T>(key: string): Promise<T | null> {
    const cached = await this.redis.get(key);
    return cached ? JSON.parse(cached) : null;
  }
  
  async set(key: string, value: any, ttl: number = 3600): Promise<void> {
    await this.redis.setex(key, ttl, JSON.stringify(value));
  }
  
  async invalidate(pattern: string): Promise<void> {
    const keys = await this.redis.keys(pattern);
    if (keys.length > 0) {
      await this.redis.del(...keys);
    }
  }
}

// ìºì‹± ë°ì½”ë ˆì´í„°
function cached(ttl: number = 3600) {
  return function (target: any, propertyName: string, descriptor: PropertyDescriptor) {
    const method = descriptor.value;
    
    descriptor.value = async function (...args: any[]) {
      const cacheKey = `${target.constructor.name}:${propertyName}:${JSON.stringify(args)}`;
      const cache = new CacheService();
      
      let result = await cache.get(cacheKey);
      if (!result) {
        result = await method.apply(this, args);
        await cache.set(cacheKey, result, ttl);
      }
      
      return result;
    };
  };
}
```

#### ë°ì´í„°ë² ì´ìŠ¤ ìµœì í™”
```sql
-- ì¿¼ë¦¬ ìµœì í™” ì˜ˆì‹œ
-- ì‚¬ìš©ì ëŒ€ì‹œë³´ë“œ ë°ì´í„°ë¥¼ í•œ ë²ˆì— ê°€ì ¸ì˜¤ê¸°
WITH user_stats AS (
  SELECT 
    u.id,
    COUNT(DISTINCT e.course_id) as enrolled_courses,
    COUNT(DISTINCT CASE WHEN lp.is_completed THEN lp.lesson_id END) as completed_lessons,
    COUNT(DISTINCT s.id) as submitted_assignments,
    COUNT(DISTINCT c.id) as earned_certificates
  FROM users u
  LEFT JOIN enrollments e ON u.id = e.user_id AND e.status = 'active'
  LEFT JOIN lesson_progress lp ON u.id = lp.user_id
  LEFT JOIN submissions s ON u.id = s.user_id
  LEFT JOIN certificates c ON u.id = c.user_id AND c.is_revoked = false
  WHERE u.id = $1
  GROUP BY u.id
)
SELECT 
  u.username,
  u.full_name,
  u.avatar_url,
  up.experience_level,
  us.*,
  json_agg(
    json_build_object(
      'courseId', co.id,
      'title', co.title,
      'level', co.level,
      'progress', e.progress_percentage
    )
  ) FILTER (WHERE co.id IS NOT NULL) as active_courses
FROM users u
JOIN user_profiles up ON u.id = up.user_id
JOIN user_stats us ON u.id = us.id
LEFT JOIN enrollments e ON u.id = e.user_id AND e.status = 'active'
LEFT JOIN courses co ON e.course_id = co.id
WHERE u.id = $1
GROUP BY u.id, u.username, u.full_name, u.avatar_url, up.experience_level, us.enrolled_courses, us.completed_lessons, us.submitted_assignments, us.earned_certificates;
```

---

## ğŸš€ 7. ë°°í¬ ì „ëµ

### ğŸ³ Docker ì»¨í…Œì´ë„ˆí™”

#### Dockerfile
```dockerfile
# Frontend (Next.js)
FROM node:18-alpine AS base
WORKDIR /app
COPY package*.json ./
RUN npm ci --only=production

FROM base AS build
COPY . .
RUN npm run build

FROM base AS runtime
COPY --from=build /app/.next ./.next
COPY --from=build /app/public ./public
EXPOSE 3000
CMD ["npm", "start"]

# Backend (Node.js API)
FROM node:18-alpine AS api-base
WORKDIR /app
COPY package*.json ./
RUN npm ci --only=production

FROM api-base AS api-build
COPY . .
RUN npm run build

FROM api-base AS api-runtime
COPY --from=api-build /app/dist ./dist
EXPOSE 8000
CMD ["node", "dist/server.js"]
```

#### docker-compose.yml
```yaml
version: '3.8'

services:
  frontend:
    build:
      context: ./frontend
      dockerfile: Dockerfile
    ports:
      - "3000:3000"
    environment:
      - NEXT_PUBLIC_API_URL=http://backend:8000
      - NEXTAUTH_URL=http://localhost:3000
      - NEXTAUTH_SECRET=${NEXTAUTH_SECRET}
    depends_on:
      - backend
    restart: unless-stopped

  backend:
    build:
      context: ./backend
      dockerfile: Dockerfile
    ports:
      - "8000:8000"
    environment:
      - DATABASE_URL=postgresql://postgres:password@postgres:5432/vibe_academy
      - REDIS_URL=redis://redis:6379
      - JWT_SECRET=${JWT_SECRET}
      - AWS_ACCESS_KEY_ID=${AWS_ACCESS_KEY_ID}
      - AWS_SECRET_ACCESS_KEY=${AWS_SECRET_ACCESS_KEY}
    depends_on:
      - postgres
      - redis
    restart: unless-stopped

  postgres:
    image: postgres:15-alpine
    environment:
      - POSTGRES_DB=vibe_academy
      - POSTGRES_USER=postgres
      - POSTGRES_PASSWORD=password
    volumes:
      - postgres_data:/var/lib/postgresql/data
      - ./init.sql:/docker-entrypoint-initdb.d/init.sql
    ports:
      - "5432:5432"
    restart: unless-stopped

  redis:
    image: redis:7-alpine
    ports:
      - "6379:6379"
    volumes:
      - redis_data:/data
    restart: unless-stopped

  nginx:
    image: nginx:alpine
    ports:
      - "80:80"
      - "443:443"
    volumes:
      - ./nginx.conf:/etc/nginx/nginx.conf
      - ./ssl:/etc/nginx/ssl
    depends_on:
      - frontend
      - backend
    restart: unless-stopped

volumes:
  postgres_data:
  redis_data:
```

### â˜ï¸ AWS ë°°í¬ êµ¬ì„±

#### Infrastructure as Code (Terraform)
```hcl
# main.tf
provider "aws" {
  region = "ap-northeast-2" # Seoul
}

# VPC ì„¤ì •
resource "aws_vpc" "vibe_academy" {
  cidr_block           = "10.0.0.0/16"
  enable_dns_hostnames = true
  enable_dns_support   = true

  tags = {
    Name = "vibe-academy-vpc"
  }
}

# ECS í´ëŸ¬ìŠ¤í„°
resource "aws_ecs_cluster" "vibe_academy" {
  name = "vibe-academy-cluster"

  setting {
    name  = "containerInsights"
    value = "enabled"
  }
}

# Application Load Balancer
resource "aws_lb" "vibe_academy" {
  name               = "vibe-academy-alb"
  internal           = false
  load_balancer_type = "application"
  security_groups    = [aws_security_group.alb.id]
  subnets           = [aws_subnet.public_1.id, aws_subnet.public_2.id]

  enable_deletion_protection = false
}

# RDS PostgreSQL
resource "aws_db_instance" "vibe_academy" {
  identifier = "vibe-academy-db"
  
  engine         = "postgres"
  engine_version = "15.4"
  instance_class = "db.t3.micro"
  
  allocated_storage     = 20
  max_allocated_storage = 100
  storage_type         = "gp2"
  storage_encrypted    = true
  
  db_name  = "vibe_academy"
  username = var.db_username
  password = var.db_password
  
  vpc_security_group_ids = [aws_security_group.rds.id]
  db_subnet_group_name   = aws_db_subnet_group.vibe_academy.name
  
  backup_retention_period = 7
  backup_window          = "03:00-04:00"
  maintenance_window     = "Sun:04:00-Sun:05:00"
  
  skip_final_snapshot = true
  deletion_protection = false
}

# ElastiCache Redis
resource "aws_elasticache_subnet_group" "vibe_academy" {
  name       = "vibe-academy-cache-subnet"
  subnet_ids = [aws_subnet.private_1.id, aws_subnet.private_2.id]
}

resource "aws_elasticache_replication_group" "vibe_academy" {
  replication_group_id         = "vibe-academy-redis"
  description                  = "Redis cluster for Vibe Academy"
  
  node_type                    = "cache.t3.micro"
  port                         = 6379
  parameter_group_name         = "default.redis7"
  
  num_cache_clusters           = 2
  automatic_failover_enabled   = true
  multi_az_enabled            = true
  
  subnet_group_name = aws_elasticache_subnet_group.vibe_academy.name
  security_group_ids = [aws_security_group.redis.id]
}

# S3 Bucket for file storage
resource "aws_s3_bucket" "vibe_academy_files" {
  bucket = "vibe-academy-files-${random_string.bucket_suffix.result}"
}

resource "aws_s3_bucket_public_access_block" "vibe_academy_files" {
  bucket = aws_s3_bucket.vibe_academy_files.id

  block_public_acls       = true
  block_public_policy     = true
  ignore_public_acls      = true
  restrict_public_buckets = true
}

# CloudFront Distribution
resource "aws_cloudfront_distribution" "vibe_academy" {
  origin {
    domain_name = aws_s3_bucket.vibe_academy_files.bucket_regional_domain_name
    origin_id   = "S3-${aws_s3_bucket.vibe_academy_files.id}"

    s3_origin_config {
      origin_access_identity = aws_cloudfront_origin_access_identity.vibe_academy.cloudfront_access_identity_path
    }
  }

  enabled = true
  is_ipv6_enabled = true
  comment = "Vibe Academy CDN"

  default_cache_behavior {
    allowed_methods  = ["DELETE", "GET", "HEAD", "OPTIONS", "PATCH", "POST", "PUT"]
    cached_methods   = ["GET", "HEAD"]
    target_origin_id = "S3-${aws_s3_bucket.vibe_academy_files.id}"

    forwarded_values {
      query_string = false
      cookies {
        forward = "none"
      }
    }

    viewer_protocol_policy = "redirect-to-https"
    min_ttl                = 0
    default_ttl            = 3600
    max_ttl                = 86400
  }

  restrictions {
    geo_restriction {
      restriction_type = "none"
    }
  }

  viewer_certificate {
    cloudfront_default_certificate = true
  }
}
```

### ğŸ”„ CI/CD íŒŒì´í”„ë¼ì¸

#### GitHub Actions
```yaml
# .github/workflows/deploy.yml
name: Deploy Vibe Academy

on:
  push:
    branches: [main]
  pull_request:
    branches: [main]

env:
  AWS_REGION: ap-northeast-2
  ECR_REPOSITORY_FRONTEND: vibe-academy-frontend
  ECR_REPOSITORY_BACKEND: vibe-academy-backend

jobs:
  test:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      
      - name: Setup Node.js
        uses: actions/setup-node@v3
        with:
          node-version: '18'
          cache: 'npm'
      
      - name: Install dependencies
        run: |
          cd frontend && npm ci
          cd ../backend && npm ci
      
      - name: Run tests
        run: |
          cd frontend && npm run test
          cd ../backend && npm run test
      
      - name: Run linting
        run: |
          cd frontend && npm run lint
          cd ../backend && npm run lint

  build-and-deploy:
    needs: test
    runs-on: ubuntu-latest
    if: github.ref == 'refs/heads/main'
    
    steps:
      - uses: actions/checkout@v3
      
      - name: Configure AWS credentials
        uses: aws-actions/configure-aws-credentials@v2
        with:
          aws-access-key-id: ${{ secrets.AWS_ACCESS_KEY_ID }}
          aws-secret-access-key: ${{ secrets.AWS_SECRET_ACCESS_KEY }}
          aws-region: ${{ env.AWS_REGION }}
      
      - name: Login to Amazon ECR
        id: login-ecr
        uses: aws-actions/amazon-ecr-login@v1
      
      - name: Build and push Frontend image
        env:
          ECR_REGISTRY: ${{ steps.login-ecr.outputs.registry }}
          IMAGE_TAG: ${{ github.sha }}
        run: |
          cd frontend
          docker build -t $ECR_REGISTRY/$ECR_REPOSITORY_FRONTEND:$IMAGE_TAG .
          docker push $ECR_REGISTRY/$ECR_REPOSITORY_FRONTEND:$IMAGE_TAG
      
      - name: Build and push Backend image
        env:
          ECR_REGISTRY: ${{ steps.login-ecr.outputs.registry }}
          IMAGE_TAG: ${{ github.sha }}
        run: |
          cd backend
          docker build -t $ECR_REGISTRY/$ECR_REPOSITORY_BACKEND:$IMAGE_TAG .
          docker push $ECR_REGISTRY/$ECR_REPOSITORY_BACKEND:$IMAGE_TAG
      
      - name: Deploy to ECS
        run: |
          aws ecs update-service \
            --cluster vibe-academy-cluster \
            --service vibe-academy-frontend \
            --force-new-deployment
          
          aws ecs update-service \
            --cluster vibe-academy-cluster \
            --service vibe-academy-backend \
            --force-new-deployment
      
      - name: Wait for deployment
        run: |
          aws ecs wait services-stable \
            --cluster vibe-academy-cluster \
            --services vibe-academy-frontend vibe-academy-backend
```

---

## ğŸ¯ ë‹¤ìŒ ë‹¨ê³„

ì´ì œ ê¸°ìˆ  í”Œë«í¼ ì•„í‚¤í…ì²˜ ì„¤ê³„ê°€ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤! 

### ğŸ“‹ ê°œë°œ ìš°ì„ ìˆœìœ„

1. **ğŸ”¥ Phase 1 (MVP)**: ê¸°ë³¸ ì‚¬ìš©ì ì¸ì¦ + ê°•ì˜ ì‹œì²­ + ê³¼ì œ ì œì¶œ
2. **ğŸš€ Phase 2**: í¬íŠ¸í´ë¦¬ì˜¤ ê´€ë¦¬ + í‰ê°€ ì‹œìŠ¤í…œ + ì»¤ë®¤ë‹ˆí‹°
3. **ğŸ† Phase 3**: ì¸ì¦ì„œ ë°œê¸‰ + ë©˜í† ë§ + ê³ ê¸‰ ê¸°ëŠ¥

ì–´ë–¤ ë¶€ë¶„ë¶€í„° ê°œë°œì„ ì‹œì‘í•˜ì‹œê² ìŠµë‹ˆê¹Œ? 

- **ì‹¤ì œ ì½”ë“œ êµ¬í˜„** ì‹œì‘
- **ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ** êµ¬ì²´í™”  
- **í”„ë¡œí† íƒ€ì… ê°œë°œ** ì§„í–‰
- **ë‹¤ë¥¸ ì˜ì—­** ì¶”ê°€ ì„¤ê³„

ì„ íƒí•´ì£¼ì‹œë©´ í•´ë‹¹ ë¶€ë¶„ì˜ ìƒì„¸ êµ¬í˜„ì„ ë„ì™€ë“œë¦¬ê² ìŠµë‹ˆë‹¤! ğŸ¯